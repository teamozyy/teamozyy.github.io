<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>spring boot多数据源——AOP动态数据源</title>
    <url>/2019/12/01/spring-boot%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E2%80%94%E2%80%94AOP%E5%8A%A8%E6%80%81%E6%95%B0%E6%8D%AE%E6%BA%90/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>spring boot多数据源——分包</title>
    <url>/2019/11/30/spring-boot%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E2%80%94%E2%80%94%E5%88%86%E5%8C%85/</url>
    <content><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>随着数据量的不断增多，单个数据库已经承受不了高并发带来的压力，此时使用多个数据库变得至关重要，传统项目整合多数据源有两种方案: AOP动态切换和分包配置数据源</p>
<h4 id="导入依赖"><a href="#导入依赖" class="headerlink" title="导入依赖"></a>导入依赖</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;parent&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &lt;artifactId&gt;spring-boot-starter-parent&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &lt;version&gt;2.1.6.RELEASE&lt;&#x2F;version&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;&#x2F;parent&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;dependencies&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;artifactId&gt;spring-boot-starter-web&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;&#x2F;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;artifactId&gt;spring-boot-starter-aop&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;&#x2F;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;artifactId&gt;spring-boot-configuration-processor&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;&#x2F;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;groupId&gt;org.mybatis.spring.boot&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;artifactId&gt;mybatis-spring-boot-starter&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;version&gt;2.1.1&lt;&#x2F;version&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;&#x2F;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;&#x2F;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;groupId&gt;org.projectlombok&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;artifactId&gt;lombok&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;&#x2F;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;groupId&gt;com.alibaba&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;artifactId&gt;fastjson&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;version&gt;1.2.54&lt;&#x2F;version&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;&#x2F;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;groupId&gt;org.apache.commons&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">      &lt;artifactId&gt;commons-lang3&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">  &lt;&#x2F;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;&#x2F;dependencies&gt;</span></pre></td></tr></table></figure>

<h4 id="在application-yml中配置多个数据源"><a href="#在application-yml中配置多个数据源" class="headerlink" title="在application.yml中配置多个数据源"></a>在application.yml中配置多个数据源</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">spring:</span></pre></td></tr><tr><td class="code"><pre><span class="line">  datasource:</span></pre></td></tr><tr><td class="code"><pre><span class="line">    master:</span></pre></td></tr><tr><td class="code"><pre><span class="line">      driver-class-name: com.mysql.cj.jdbc.Driver</span></pre></td></tr><tr><td class="code"><pre><span class="line">      jdbc-url: jdbc:mysql:&#x2F;&#x2F;47.98.131.17:3306&#x2F;ruoyi1?useUnicode&#x3D;true&amp;characterEncoding&#x3D;utf8&amp;zeroDateTimeBehavior&#x3D;convertToNull&amp;useSSL&#x3D;true&amp;serverTimezone&#x3D;GMT%2B8</span></pre></td></tr><tr><td class="code"><pre><span class="line">      username: root</span></pre></td></tr><tr><td class="code"><pre><span class="line">      password: root</span></pre></td></tr><tr><td class="code"><pre><span class="line">    deputy:</span></pre></td></tr><tr><td class="code"><pre><span class="line">      driver-class-name: com.mysql.cj.jdbc.Driver</span></pre></td></tr><tr><td class="code"><pre><span class="line">      jdbc-url: jdbc:mysql:&#x2F;&#x2F;47.98.131.17:3306&#x2F;ruoyi2?userUnicode&#x3D;true&amp;characterEncoding&#x3D;utf8&amp;zeroDateTimeBehavior&#x3D;convertToNull&amp;useSSL&#x3D;true&amp;serverTimezone&#x3D;GMT%2B8</span></pre></td></tr><tr><td class="code"><pre><span class="line">      username: root</span></pre></td></tr><tr><td class="code"><pre><span class="line">      password: root</span></pre></td></tr></table></figure>

<h4 id="编写MasterDataSourceConfig配置文件"><a href="#编写MasterDataSourceConfig配置文件" class="headerlink" title="编写MasterDataSourceConfig配置文件"></a>编写MasterDataSourceConfig配置文件</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Configuration</span></pre></td></tr><tr><td class="code"><pre><span class="line">@MapperScan(basePackages &#x3D; &#123;&quot;com.boyi.master.*.mapper&quot;&#125;, sqlSessionFactoryRef &#x3D; &quot;masterSqlSessionFactory&quot;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">public class MasterDataSourceConfig &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#x2F;**</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * 创建主数据源</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * @return</span></pre></td></tr><tr><td class="code"><pre><span class="line">     *&#x2F;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Bean</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Primary &#x2F;&#x2F; 表示该数据源是默认数据源</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @ConfigurationProperties(prefix &#x3D; &quot;spring.datasource.master&quot;) &#x2F;&#x2F; 读取配置文件以prefix中开头的</span></pre></td></tr><tr><td class="code"><pre><span class="line">    public DataSource masterDataSource() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        return DataSourceBuilder.create().build();</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Bean</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Primary</span></pre></td></tr><tr><td class="code"><pre><span class="line">    public SqlSessionFactory masterSqlSessionFactory() throws Exception&#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        SqlSessionFactoryBean sqlSessionFactoryBean &#x3D; new SqlSessionFactoryBean();</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#x2F;&#x2F; 设置数据源</span></pre></td></tr><tr><td class="code"><pre><span class="line">        sqlSessionFactoryBean.setDataSource(masterDataSource());</span></pre></td></tr><tr><td class="code"><pre><span class="line">        &#x2F;&#x2F; 获取mapper配置文件</span></pre></td></tr><tr><td class="code"><pre><span class="line">        return sqlSessionFactoryBean.getObject();</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#x2F;**</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * 配置事务</span></pre></td></tr><tr><td class="code"><pre><span class="line">     *&#x2F;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Bean</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Primary</span></pre></td></tr><tr><td class="code"><pre><span class="line">    public DataSourceTransactionManager masterTransactionManager() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        return new DataSourceTransactionManager(masterDataSource());</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Bean</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Primary</span></pre></td></tr><tr><td class="code"><pre><span class="line">    public SqlSessionTemplate masterSqlSessionTemplate() throws Exception &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        return new SqlSessionTemplate(masterSqlSessionFactory());</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="编写副数据源配置文件"><a href="#编写副数据源配置文件" class="headerlink" title="编写副数据源配置文件"></a>编写副数据源配置文件</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Configuration</span></pre></td></tr><tr><td class="code"><pre><span class="line">@MapperScan(basePackages &#x3D; &#123;&quot;com.boyi.deputy.*.mapper&quot;&#125;,sqlSessionFactoryRef &#x3D; &quot;deputySqlSessionFactory&quot;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">public class DeputyDataSourceConfig &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#x2F;**</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * 创建副数据源</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * @return</span></pre></td></tr><tr><td class="code"><pre><span class="line">     *&#x2F;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Bean</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @ConfigurationProperties(prefix &#x3D; &quot;spring.datasource.deputy&quot;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">    public DataSource deputyDataSource() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        return DataSourceBuilder.create().build();</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Bean</span></pre></td></tr><tr><td class="code"><pre><span class="line">    public SqlSessionFactory deputySqlSessionFactory() throws Exception &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        SqlSessionFactoryBean sqlSessionFactoryBean &#x3D; new SqlSessionFactoryBean();</span></pre></td></tr><tr><td class="code"><pre><span class="line">        sqlSessionFactoryBean.setDataSource(deputyDataSource());</span></pre></td></tr><tr><td class="code"><pre><span class="line">        return sqlSessionFactoryBean.getObject();</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#x2F;**</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * 配置事务</span></pre></td></tr><tr><td class="code"><pre><span class="line">     *&#x2F;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Bean</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Primary</span></pre></td></tr><tr><td class="code"><pre><span class="line">    public DataSourceTransactionManager deputyTransactionManager() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        return new DataSourceTransactionManager(deputyDataSource());</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Bean</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Primary</span></pre></td></tr><tr><td class="code"><pre><span class="line">    public SqlSessionTemplate deputySqlSessionTemplate() throws Exception &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        return new SqlSessionTemplate(deputySqlSessionFactory());</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="然后只要将不同数据库的操作分别放在对应的包下-basePackages-即可"><a href="#然后只要将不同数据库的操作分别放在对应的包下-basePackages-即可" class="headerlink" title="然后只要将不同数据库的操作分别放在对应的包下(basePackages)即可"></a>然后只要将不同数据库的操作分别放在对应的包下(basePackages)即可</h4><p>项目结构如下<br><img src="/2019/11/30/spring-boot%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E2%80%94%E2%80%94%E5%88%86%E5%8C%85/20191130221729.png" alt></p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul>
<li>配置文件中必须使用jdbc-url代替原来的url，否则会报jdbcUrl is required with driverClassName异常</li>
<li>若想ConfigurationProperties注解生效，必须导入spring-boot-configuration-processor包，否则不生效</li>
<li>事务的使用必须要指明是哪个数据源的事务管理器，否则事务失效，如@Transactional(value = “masterTransactionManager”)</li>
<li>如果一个方法涉及多个数据源操作，此时无法做到同时回滚，尽量避免这种操作，这里涉及分布式事务</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>由上可见，分包方式实现多数据源有较大的局限性，尤其是事务的管理，下节将提供一种更推荐的方式来配置多数据源——AOP动态数据源</p>
]]></content>
      <tags>
        <tag>mybatis</tag>
      </tags>
  </entry>
  <entry>
    <title>swagger使用指南</title>
    <url>/2019/11/29/swagger%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<h2 id="什么是swgaaer"><a href="#什么是swgaaer" class="headerlink" title="什么是swgaaer"></a>什么是swgaaer</h2><p>swagger是一个功能简单但强大的API工具，可以非常友好的对外展示接口，以及接口文档的生成</p>
<h2 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h2><h4 id="maven配置依赖"><a href="#maven配置依赖" class="headerlink" title="maven配置依赖"></a>maven配置依赖</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">	&lt;groupId&gt;io.springfox&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">	&lt;artifactId&gt;springfox-swagger-ui&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">	&lt;version&gt;2.5.0&lt;&#x2F;version&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;&#x2F;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">	&lt;groupId&gt;io.springfox&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">	&lt;artifactId&gt;springfox-swagger2&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">	&lt;version&gt;2.5.0&lt;&#x2F;version&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;&#x2F;dependency&gt;</span></pre></td></tr></table></figure>

<h4 id="编写swagger配置类"><a href="#编写swagger配置类" class="headerlink" title="编写swagger配置类"></a>编写swagger配置类</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Configuration</span></pre></td></tr><tr><td class="code"><pre><span class="line">@EnableSwagger2</span></pre></td></tr><tr><td class="code"><pre><span class="line">public class SwaggerConfig &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#x2F;**</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * 创建API应用</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * apiInfo() 增加API相关信息</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * 通过select()函数返回一个ApiSelectorBuilder实例,用来控制哪些接口暴露给Swagger来展现，</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * 本例采用指定扫描的包路径来定义指定要建立API的目录。</span></pre></td></tr><tr><td class="code"><pre><span class="line">     *</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * @return</span></pre></td></tr><tr><td class="code"><pre><span class="line">     *&#x2F;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    @Bean</span></pre></td></tr><tr><td class="code"><pre><span class="line">    public Docket createRestApi() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        return new Docket(DocumentationType.SWAGGER_2)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .apiInfo(apiInfo())</span></pre></td></tr><tr><td class="code"><pre><span class="line">                &#x2F;&#x2F; 选择那些路径和api会生成document</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .select()</span></pre></td></tr><tr><td class="code"><pre><span class="line">                &#x2F;&#x2F; 扫描所有有注解的api，用这种方式更灵活</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .apis(RequestHandlerSelectors.withMethodAnnotation(ApiOperation.class))</span></pre></td></tr><tr><td class="code"><pre><span class="line">                &#x2F;&#x2F;swagget扫描目录</span></pre></td></tr><tr><td class="code"><pre><span class="line">                &#x2F;&#x2F;.apis(RequestHandlerSelectors.basePackage(&quot;com.itcast.controller&quot;))</span></pre></td></tr><tr><td class="code"><pre><span class="line">                &#x2F;&#x2F; 对所有路径进行监控</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .paths(PathSelectors.any())</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .build();</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#x2F;**</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * 创建该API的基本信息（这些基本信息会展现在文档页面中）</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * 访问地址：http:&#x2F;&#x2F;项目实际地址&#x2F;swagger-ui.html</span></pre></td></tr><tr><td class="code"><pre><span class="line">     *</span></pre></td></tr><tr><td class="code"><pre><span class="line">     * @return</span></pre></td></tr><tr><td class="code"><pre><span class="line">     *&#x2F;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    private ApiInfo apiInfo() &#123;</span></pre></td></tr><tr><td class="code"><pre><span class="line">        return new ApiInfoBuilder()</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .title(&quot;SpringBoot中使用Swagger2构建RESTful APIs&quot;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .description(&quot;API 描述&quot;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .termsOfServiceUrl(&quot;&quot;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .version(&quot;1.0&quot;)</span></pre></td></tr><tr><td class="code"><pre><span class="line">                .build();</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h4 id="访问地址"><a href="#访问地址" class="headerlink" title="访问地址"></a>访问地址</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;$&#123;host&#125;:$&#123;port&#125;&#x2F;swagger-ui.html</span></pre></td></tr></table></figure>
<p><img src="/2019/11/29/swagger%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/swagger-ui.png" alt></p>
<h2 id="常用注解"><a href="#常用注解" class="headerlink" title="常用注解"></a>常用注解</h2><h4 id="Api-用于类，表示这个类是swagger资源"><a href="#Api-用于类，表示这个类是swagger资源" class="headerlink" title="Api 用于类，表示这个类是swagger资源"></a>Api 用于类，表示这个类是swagger资源</h4><ul>
<li>value 类说明</li>
<li>tags 类分组，同一个tags下的类会分在同一组</li>
</ul>
<h4 id="ApiOperation-用于方法"><a href="#ApiOperation-用于方法" class="headerlink" title="ApiOperation 用于方法"></a>ApiOperation 用于方法</h4><ul>
<li>value 方法描述</li>
<li>notes 提示内容</li>
</ul>
<h4 id="ApiParam-用于参数，方法，字段说明"><a href="#ApiParam-用于参数，方法，字段说明" class="headerlink" title="ApiParam 用于参数，方法，字段说明"></a>ApiParam 用于参数，方法，字段说明</h4><ul>
<li>name 参数名</li>
<li>value 参数说明</li>
<li>required 是否必填</li>
</ul>
<h4 id="ApiModel-用于实体类"><a href="#ApiModel-用于实体类" class="headerlink" title="ApiModel 用于实体类"></a>ApiModel 用于实体类</h4><ul>
<li>value 实体类名</li>
<li>description 描述</li>
</ul>
<h4 id="ApiModelProperty-字段"><a href="#ApiModelProperty-字段" class="headerlink" title="ApiModelProperty 字段"></a>ApiModelProperty 字段</h4><ul>
<li>value 字段说明</li>
<li>name 重写属性名称</li>
<li>dataType 重写属性类型</li>
<li>required 是否必填</li>
<li>example 举例说明</li>
<li>hidden 隐藏</li>
</ul>
<h4 id="ApiImplicitParams-用于方法，可以包含多个-ApiImplicitParam"><a href="#ApiImplicitParams-用于方法，可以包含多个-ApiImplicitParam" class="headerlink" title="ApiImplicitParams 用于方法，可以包含多个@ApiImplicitParam"></a>ApiImplicitParams 用于方法，可以包含多个@ApiImplicitParam</h4><ul>
<li>name 参数名称</li>
<li>value 参数说明</li>
<li>dataType 数据类型</li>
<li>paramType 参数类型</li>
<li>example 举例说明</li>
</ul>
<h2 id="生成接口文档"><a href="#生成接口文档" class="headerlink" title="生成接口文档"></a>生成接口文档</h2><h4 id="修改maven依赖"><a href="#修改maven依赖" class="headerlink" title="修改maven依赖"></a>修改maven依赖</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">	&lt;groupId&gt;io.springfox&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">	&lt;artifactId&gt;springfox-swagger2&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">	&lt;version&gt;2.5.0&lt;&#x2F;version&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;&#x2F;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &lt;groupId&gt;com.github.xiaoymin&lt;&#x2F;groupId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &lt;artifactId&gt;swagger-bootstrap-ui&lt;&#x2F;artifactId&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">    &lt;version&gt;1.9.6&lt;&#x2F;version&gt;</span></pre></td></tr><tr><td class="code"><pre><span class="line">&lt;&#x2F;dependency&gt;</span></pre></td></tr></table></figure>

<h4 id="访问地址-1"><a href="#访问地址-1" class="headerlink" title="访问地址"></a>访问地址</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;$&#123;host&#125;:$&#123;port&#125;&#x2F;doc.html</span></pre></td></tr></table></figure>
<p><img src="/2019/11/29/swagger%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/swagger-bootstrap.png" alt></p>
]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
</search>
